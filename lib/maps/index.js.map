{"version":3,"sources":["index.js"],"names":["f","exports","module","define","amd","window","global","self","this","fetchService","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","RestClient","baseUrl","value","resource","params","Promise","reject","queryString","p","hasOwnProperty","push","encodeURIComponent","fetch","join","mode","resourceId","attributes","payload","data","FormData","append","JSON","stringify","method","body","2","./RestClient"],"mappings":"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","file":"../index.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.fetchService = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RestClient = function () {\n  function RestClient(baseUrl) {\n    _classCallCheck(this, RestClient);\n\n    this.baseUrl = baseUrl;\n  }\n  /**\n   * Gets a list of resources\n   * @param  {String} resource Name of the resource\n   * @param  {JSON} params   Params used as Query String\n   * @return {Promise} Array of resources or Error\n   */\n\n\n  _createClass(RestClient, [{\n    key: 'get',\n    value: function get(resource, params) {\n      if (resource) {\n        if (typeof resource !== 'string') {\n          return Promise.reject(new Error(\"Resource must be a String\"));\n        }\n      } else {\n        return Promise.reject(new Error(\"Resource should be provided\"));\n      }\n      if (params) {\n        if ((typeof params === 'undefined' ? 'undefined' : _typeof(params)) !== 'object') {\n          return Promise.reject(new Error(\"Params must be an Object\"));\n        }\n      }\n      var queryString = [];\n      for (var p in params) {\n        if (params.hasOwnProperty(p)) {\n          queryString.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(params[p]));\n        }\n      }if (queryString.length > 0) {\n        return fetch(this.baseUrl + '/' + resource + '?' + queryString.join(\"&\"));\n      }\n      return fetch(this.baseUrl + '/' + resource, { mode: 'cors' });\n    }\n    /**\n     * Gets one resouce by its Id Ex. resource/\":resourceId\"\n     * @param  {String} resource   Name of the resource\n     * @param  {String} resourceId Id of the resouce\n     * @return {Promise} JSON or Error\n     */\n\n  }, {\n    key: 'getOne',\n    value: function getOne(resource, resourceId) {\n      if (resource) {\n        if (typeof resource !== 'string') {\n          return Promise.reject(new Error(\"Resource must be a String\"));\n        }\n      } else {\n        return Promise.reject(new Error(\"Resource should be provided\"));\n      }\n      if (resourceId === null) {\n        return Promise.reject(new Error(\"Resource Id not defined\"));\n      }\n      return fetch(this.baseUrl + '/' + resource + '/' + resourceId, { mode: 'cors' });\n    }\n    /**\n     * Creates a Resource using its atributes\n     * @param  {String} resource   Name of the resource\n     * @param  {JSON} attributes\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'post',\n    value: function post(resource, attributes) {\n      if (resource) {\n        if (typeof resource !== 'string') {\n          return Promise.reject(new Error(\"Resource must be a String\"));\n        }\n      } else {\n        return Promise.reject(new Error(\"Resource should be provided\"));\n      }\n      if (attributes === null || (typeof attributes === 'undefined' ? 'undefined' : _typeof(attributes)) !== 'object') {\n        return Promise.reject(new Error(\"Params must be an Object\"));\n      }\n      var payload = attributes;\n      var data = new FormData();\n      data.append(\"json\", JSON.stringify(payload));\n      return fetch(this.baseUrl + '/' + resource, {\n        method: \"POST\",\n        body: data,\n        mode: 'cors'\n      });\n    }\n    /**\n     * Edits a resource\n     * @param  {String} resource   Name of the resource\n     * @param  {String} resourceId \n     * @param  {JSON} params\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'put',\n    value: function put(resource, resourceId, params) {\n      if (resource) {\n        if (typeof resource !== 'string') {\n          return Promise.reject(new Error(\"Resource must be a String\"));\n        }\n      } else {\n        return Promise.reject(new Error(\"Resource should be provided\"));\n      }\n      if (resourceId == null) {\n        return Promise.reject(new Error(\"Resource Id not defined\"));\n      }\n      if (params == null || (typeof params === 'undefined' ? 'undefined' : _typeof(params)) !== 'object') {\n        return Promise.reject(new Error(\"Params must be an Object\"));\n      }\n\n      var payload = params;\n      var data = new FormData();\n      data.append(\"json\", JSON.stringify(payload));\n      return fetch(this.baseUrl + '/' + resource + '/' + resourceId, {\n        method: \"PUT\",\n        body: data,\n        mode: 'cors'\n      });\n    }\n    /**\n     * Deletes a resource by its ID\n     * @param  {String} resource   Name of the resource\n     * @param  {String} resourceId \n     * @return {Promise}\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete(resource, resourceId) {\n      if (resource) {\n        if (typeof resource !== 'string') {\n          return Promise.reject(new Error(\"Resource must be a String\"));\n        }\n      } else {\n        return Promise.reject(new Error(\"Resource should be provided\"));\n      }\n      if (resourceId === null) {\n        return Promise.reject(new Error(\"Resource Id not defined\"));\n      }\n      return fetch(this.baseUrl + '/' + resource + '/' + resourceId, {\n        method: \"DELETE\",\n        mode: 'cors'\n      });\n    }\n  }]);\n\n  return RestClient;\n}();\n\nmodule.exports = RestClient;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RestClient = require('./RestClient');\n\nvar fetchService = function () {\n  function fetchService() {\n    _classCallCheck(this, fetchService);\n  }\n\n  _createClass(fetchService, null, [{\n    key: 'init',\n\n    /**\n     * Static Method that receives the base url and return a RestClient Object\n     * @param  {String} baseUrl \n     * @return {<RestClient>Object}\n     */\n    value: function init(baseUrl) {\n      if (typeof fetch !== 'undefined') {\n        return new RestClient(baseUrl);\n      } else {\n        throw new Error(\"This browser doesn't support the fetch API\");\n      }\n    }\n  }]);\n\n  return fetchService;\n}();\n\nmodule.exports = fetchService;\n\n},{\"./RestClient\":1}]},{},[2])(2)\n});"]}